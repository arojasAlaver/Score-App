/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/angularjs-currency-input-mask@1.1.2/src/angularjs-currency-input-mask.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){"use strict";function t(e){function t(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function n(e){return e.replace(/(\$)/g,"$$$1")}return{value:function(e){return this._value=e,this},clear:function(){return this._value=this._value.replace(/[^\d]/g,""),this},minimum:function(){if(e.decimalSize>0){var t=RegExp("^(\\d{1,"+e.decimalSize+"})$","g"),n=(r="$1",i=e.decimalSize,new Array(i).concat([r]).join("0"));this._value=this._value.replace(t,n)}var r,i;return this},fraction:function(){if(e.decimalSize>0){var t=RegExp("(\\d)(?=\\d{"+e.decimalSize+"}$)","g"),n="$1"+e.decimal;this._value=this._value.replace(t,n)}return this},ltrim:function(){var n=RegExp("(?=^)(0)(?!"+t(e.decimal)+")","g");return this._value=this._value.replace(n,""),this},group:function(){var n=e.decimalSize>0?t(e.decimal):"$",r=RegExp("(\\d)(?=(\\d{"+e.groupSize+"})+"+n+")","g"),i="$1"+e.group;return this._value=this._value.replace(r,i),this},currency:function(t){if("r"==e.orientation){var r=this.getRightOrientedCurrency(t),i=RegExp("(.)$","g"),c="$1"+n(r);this._value=this._value.replace(i,c)}else{r=this.getLeftOrientedCurrency(t),i=RegExp("^(.)","g"),c=n(r)+"$1";this._value=this._value.replace(i,c)}return this},getLeftOrientedCurrency:function(t){return(t||"")+(e.indentation||"")},getRightOrientedCurrency:function(t){return(e.indentation||"")+(t||"")},format:function(e,t){return this.value(e).clear().minimum().fraction().ltrim().group().currency(t).toString()},toString:function(){return this._value}}}function n(e,t){return(+(Math.round(e+"e+"+t)+"e-"+t)).toFixed(t)}e.module("cur.$mask",[]).factory("support",["$locale","$q","$timeout",function(t,n,r){return{config:function(n){var r=n||{},i=t.NUMBER_FORMATS||{},c=t.NUMBER_FORMATS.PATTERNS||{},u={indentation:"",orientation:"l",decimal:i.DECIMAL_SEP||".",group:i.GROUP_SEP||",",decimalSize:c.minFrac||2,groupSize:c.gSize||3};return e.extend({},u,r)},currency:function(e){return null!=e?e:t.NUMBER_FORMATS.CURRENCY_SYM||"$"},getCaretPosition:function(e){return n((function(t,n){r((function(){if(document.selection){e.focus();var n=document.selection.createRange(),r=n.text.length;n.moveStart("character",-e.value.length);var i=n.text.length-r;t({start:i,end:i+r})}else e.selectionStart||"0"==e.selectionStart?t({start:e.selectionStart,end:e.selectionEnd}):t({start:0,end:0})}))}))},setCaretPosition:function(e,t){return n((function(n,i){r((function(){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t),n(!0);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",t),r.select(),n(!0)}i(!1)}))}))},canMoveCaret:function(e){return e.setSelectionRange||e.createTextRange}}}]).directive("maskCurrency",["$locale","support",function(e,r){return{require:"ngModel",scope:{currency:"=maskCurrency",config:"="},link:function(e,i,c,u){if(u){var a,o=r.config(e.config);e.$watch("currency",(function(){f(u.$viewValue,r.currency(e.currency))})),e.$watch("config",(function(e){o=r.config(e),r.canMoveCaret(i[0])||(o.orientation="l"),u.$viewValue&&f(u.$viewValue)})),u.$parsers.push((function(t){return f(t,r.currency(e.currency))})),u.$formatters.push((function(t){return t?l(n(t,o.decimalSize),r.currency(e.currency)):null}))}function l(e,n){return t(o).format(e,n)}function f(e,n){var c=null;if(e){var f=l(e,n);if(c=function(e){if(e=e.replace(/[^\d]/g,""),o.decimalSize>0){var t=RegExp("(\\d)(?=\\d{"+o.decimalSize+"}$)","g");e=e.replace(t,"$1.")}return e}(f),f==e?f=void 0:f==a&&"000"==f.replace(/[^\d]/g,"")&&(f="",c=null),void 0!==f&&(a=f,u.$setViewValue(f),u.$render(),"r"==o.orientation)){var s=f.indexOf(t(o).getRightOrientedCurrency(n));r.getCaretPosition(i[0]).then((function(e){e.start==e.end&&e.start>s&&r.setCaretPosition(i[0],s)}))}}return c}}}}]).filter("printCurrency",["support",function(e){return function(r,i,c){return c=e.config(c),r?t(c).format(n(r,c.decimalSize),i):null}}])}(angular);
//# sourceMappingURL=/sm/7b556a808042bcdec794be469a320820341ff42e47db625acd7d0c6312eb15f1.map